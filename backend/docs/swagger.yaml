basePath: /api/v1
definitions:
  dto.APIResponse:
    properties:
      data: {}
      error:
        example: Error message
        type: string
      message:
        example: Success message
        type: string
      success:
        example: true
        type: boolean
    type: object
  dto.CategoryStatsResponse:
    properties:
      answered_count:
        example: 0
        type: integer
      category:
        example: MANAJERIAL
        type: string
      total_questions:
        example: 5
        type: integer
    type: object
  dto.DashboardResponse:
    properties:
      exam_results:
        $ref: '#/definitions/dto.ExamResultsResponse'
      exam_session:
        $ref: '#/definitions/dto.ExamSessionResponse'
      exam_status:
        enum:
        - NO_EXAM
        - NOT_STARTED
        - IN_PROGRESS
        - COMPLETED
        - EXPIRED
        example: IN_PROGRESS
        type: string
      has_exam:
        example: true
        type: boolean
      progress_info:
        $ref: '#/definitions/dto.ProgressInfoResponse'
      user_id:
        example: "1234"
        type: string
    type: object
  dto.DetailedAnswer:
    properties:
      answered_at:
        example: "2026-01-28T11:15:00Z"
        type: string
      category:
        example: MANAJERIAL
        type: string
      correct_option:
        example: Menolak dengan tegas dan melaporkan kepada atasan
        type: string
      correct_option_id:
        example: 60
        type: integer
      correct_score:
        example: 4
        type: integer
      exam_question_id:
        example: 1
        type: integer
      is_correct:
        example: false
        type: boolean
      max_score:
        example: 4
        type: integer
      question_id:
        example: 15
        type: integer
      question_text:
        example: Atasan Anda melakukan rekayasa laporan...
        type: string
      score:
        example: 3
        type: integer
      selected_option:
        example: Dalam hati tidak menyetujui hal tersebut
        type: string
      selected_option_id:
        example: 59
        type: integer
    type: object
  dto.ExamResultResponse:
    properties:
      category:
        example: MANAJERIAL
        type: string
      exam_session_id:
        example: 1
        type: integer
      grade:
        example: B
        type: string
      id:
        example: 1
        type: integer
      is_passed:
        example: true
        type: boolean
      max_score:
        example: 20
        type: integer
      percentage:
        example: 80
        type: number
      total_answered:
        example: 5
        type: integer
      total_questions:
        example: 5
        type: integer
      total_score:
        example: 16
        type: integer
    type: object
  dto.ExamResultsResponse:
    properties:
      results_by_category:
        items:
          $ref: '#/definitions/dto.ExamResultResponse'
        type: array
      summary:
        $ref: '#/definitions/dto.ExamSummaryResponse'
    type: object
  dto.ExamSessionResponse:
    properties:
      category_stats:
        items:
          $ref: '#/definitions/dto.CategoryStatsResponse'
        type: array
      duration:
        example: 120
        type: integer
      expires_at:
        example: "2026-01-28T12:00:00Z"
        type: string
      questions:
        items:
          $ref: '#/definitions/dto.QuestionResponse'
        type: array
      session_code:
        example: EXAM_1234_1643356800
        type: string
      session_id:
        example: 1
        type: integer
      status:
        enum:
        - NOT_STARTED
        - IN_PROGRESS
        - COMPLETED
        - EXPIRED
        example: NOT_STARTED
        type: string
      user_id:
        example: "1234"
        type: string
    type: object
  dto.ExamSummaryResponse:
    properties:
      completed_at:
        example: "2026-01-28T11:30:00Z"
        type: string
      exam_session_id:
        example: 1
        type: integer
      id:
        example: 1
        type: integer
      is_passed:
        example: true
        type: boolean
      max_score:
        example: 80
        type: integer
      overall_grade:
        example: B
        type: string
      overall_percentage:
        example: 81.25
        type: number
      total_answered:
        example: 18
        type: integer
      total_questions:
        example: 20
        type: integer
      total_score:
        example: 65
        type: integer
      user_id:
        example: "1234"
        type: string
    type: object
  dto.ProgressInfoResponse:
    properties:
      answered_questions:
        example: 8
        type: integer
      remaining_time_minutes:
        example: 95
        type: integer
      total_questions:
        example: 20
        type: integer
    type: object
  dto.QuestionOptionResponse:
    properties:
      id:
        example: 59
        type: integer
      option_text:
        example: Dalam hati tidak menyetujui hal tersebut
        type: string
    type: object
  dto.QuestionResponse:
    properties:
      category:
        enum:
        - MANAJERIAL
        - SOSIAL KULTURAL
        - TEKNIS
        - WAWANCARA
        example: MANAJERIAL
        type: string
      exam_question_id:
        example: 1
        type: integer
      options:
        items:
          $ref: '#/definitions/dto.QuestionOptionResponse'
        type: array
      order_number:
        example: 1
        type: integer
      question_id:
        example: 15
        type: integer
      question_text:
        example: Atasan Anda melakukan rekayasa laporan...
        type: string
    type: object
  dto.SubmitAnswerRequest:
    properties:
      exam_question_id:
        example: 1
        type: integer
      question_option_id:
        example: 59
        type: integer
    required:
    - exam_question_id
    - question_option_id
    type: object
  dto.UserDashboardSummary:
    properties:
      completed_at:
        example: "2026-01-28T11:30:00Z"
        type: string
      exam_status:
        enum:
        - NO_EXAM
        - NOT_STARTED
        - IN_PROGRESS
        - COMPLETED
        - EXPIRED
        example: COMPLETED
        type: string
      grade:
        example: B
        type: string
      is_passed:
        example: true
        type: boolean
      max_score:
        example: 16
        type: integer
      percentage:
        example: 75
        type: number
      session_code:
        example: EXAM_1234_1643356800
        type: string
      started_at:
        example: "2026-01-28T10:00:00Z"
        type: string
      total_score:
        example: 12
        type: integer
      user_id:
        example: "1234"
        type: string
    type: object
  dto.UserListDashboardResponse:
    properties:
      total_users:
        example: 25
        type: integer
      users:
        items:
          $ref: '#/definitions/dto.UserDashboardSummary'
        type: array
    type: object
host: localhost:8080
info:
  contact:
    email: support@example.com
    name: API Support
    url: http://www.example.com/support
  description: PPPK Examination Management System API with randomized questions
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: http://swagger.io/terms/
  title: PPPKJson Exam API
  version: 1.0.0
paths:
  /dashboard/users:
    get:
      consumes:
      - application/json
      description: Gets dashboard data for all users who have taken exams, including
        their status and results
      produces:
      - application/json
      responses:
        "200":
          description: All users dashboard data retrieved
          schema:
            allOf:
            - $ref: '#/definitions/dto.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.UserListDashboardResponse'
              type: object
        "500":
          description: Failed to get dashboard data
          schema:
            $ref: '#/definitions/dto.APIResponse'
      summary: Get all users dashboard
      tags:
      - dashboard
  /exam/{userID}:
    get:
      consumes:
      - application/json
      description: Creates a new exam session with 20 random questions (5 per category)
        or returns existing active session
      parameters:
      - description: User ID
        example: '"1234"'
        in: path
        name: userID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Exam session ready
          schema:
            allOf:
            - $ref: '#/definitions/dto.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.ExamSessionResponse'
              type: object
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/dto.APIResponse'
        "500":
          description: Failed to create exam session
          schema:
            $ref: '#/definitions/dto.APIResponse'
      summary: Create or get exam session
      tags:
      - exam
  /exam/{userID}/answer:
    post:
      consumes:
      - application/json
      description: Submits user's answer for a specific question
      parameters:
      - description: User ID
        example: '"1234"'
        in: path
        name: userID
        required: true
        type: string
      - description: Answer submission
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.SubmitAnswerRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Answer submitted successfully
          schema:
            $ref: '#/definitions/dto.APIResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.APIResponse'
        "404":
          description: Exam session not found
          schema:
            $ref: '#/definitions/dto.APIResponse'
        "500":
          description: Failed to submit answer
          schema:
            $ref: '#/definitions/dto.APIResponse'
      summary: Submit answer
      tags:
      - exam
  /exam/{userID}/answers:
    get:
      consumes:
      - application/json
      description: Gets existing answers for user's active exam session to repopulate
        on page reload
      parameters:
      - description: User ID
        example: '"1234"'
        in: path
        name: userID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: User answers retrieved
          schema:
            allOf:
            - $ref: '#/definitions/dto.APIResponse'
            - properties:
                data:
                  additionalProperties: true
                  type: object
              type: object
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/dto.APIResponse'
        "500":
          description: Failed to get user answers
          schema:
            $ref: '#/definitions/dto.APIResponse'
      summary: Get user's existing answers
      tags:
      - exam
  /exam/{userID}/complete:
    post:
      consumes:
      - application/json
      description: Completes the exam session and calculates final results
      parameters:
      - description: User ID
        example: '"1234"'
        in: path
        name: userID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Exam completed successfully
          schema:
            allOf:
            - $ref: '#/definitions/dto.APIResponse'
            - properties:
                data:
                  additionalProperties: true
                  type: object
              type: object
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/dto.APIResponse'
        "404":
          description: Exam session not found
          schema:
            $ref: '#/definitions/dto.APIResponse'
        "500":
          description: Failed to complete exam
          schema:
            $ref: '#/definitions/dto.APIResponse'
      summary: Complete exam
      tags:
      - exam
  /exam/{userID}/dashboard:
    get:
      consumes:
      - application/json
      description: Gets comprehensive dashboard data including exam status, progress,
        and results if completed
      parameters:
      - description: User ID
        example: '"1234"'
        in: path
        name: userID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Dashboard data retrieved
          schema:
            allOf:
            - $ref: '#/definitions/dto.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.DashboardResponse'
              type: object
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/dto.APIResponse'
        "500":
          description: Failed to get dashboard data
          schema:
            $ref: '#/definitions/dto.APIResponse'
      summary: Get dashboard information
      tags:
      - exam
  /exam/{userID}/detailed-answers:
    get:
      consumes:
      - application/json
      description: Gets detailed answers with question text, selected options, and
        scores for completed exam
      parameters:
      - description: User ID
        example: '"1234"'
        in: path
        name: userID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Detailed answers retrieved
          schema:
            allOf:
            - $ref: '#/definitions/dto.APIResponse'
            - properties:
                data:
                  additionalProperties:
                    items:
                      $ref: '#/definitions/dto.DetailedAnswer'
                    type: array
                  type: object
              type: object
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/dto.APIResponse'
        "404":
          description: No completed exam found
          schema:
            $ref: '#/definitions/dto.APIResponse'
        "500":
          description: Failed to get detailed answers
          schema:
            $ref: '#/definitions/dto.APIResponse'
      summary: Get detailed user answers
      tags:
      - exam
  /exam/{userID}/results:
    get:
      consumes:
      - application/json
      description: Retrieves detailed exam results including summary and category
        breakdown
      parameters:
      - description: User ID
        example: '"1234"'
        in: path
        name: userID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Exam results retrieved
          schema:
            allOf:
            - $ref: '#/definitions/dto.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.ExamResultsResponse'
              type: object
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/dto.APIResponse'
        "404":
          description: Exam results not found
          schema:
            $ref: '#/definitions/dto.APIResponse'
      summary: Get exam results
      tags:
      - exam
  /exam/{userID}/start:
    post:
      consumes:
      - application/json
      description: Starts the exam timer and changes status to IN_PROGRESS
      parameters:
      - description: User ID
        example: '"1234"'
        in: path
        name: userID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Exam started successfully
          schema:
            allOf:
            - $ref: '#/definitions/dto.APIResponse'
            - properties:
                data:
                  additionalProperties: true
                  type: object
              type: object
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/dto.APIResponse'
        "404":
          description: Exam session not found
          schema:
            $ref: '#/definitions/dto.APIResponse'
        "500":
          description: Failed to start exam
          schema:
            $ref: '#/definitions/dto.APIResponse'
      summary: Start exam
      tags:
      - exam
  /health:
    get:
      consumes:
      - application/json
      description: Get the health status of the application
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: Health Check
      tags:
      - system
schemes:
- http
- https
securityDefinitions:
  BasicAuth:
    type: basic
swagger: "2.0"
